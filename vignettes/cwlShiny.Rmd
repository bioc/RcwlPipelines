---
title: "CWL Shiny webApp"
author: "Qiang"
date: "`r Sys.Date()`"
output:
  BiocStyle::html_document:
    toc: true
    toc_float: true
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## cwlParam example
To build a tool with different types of input parameters.
```{r}
library(RcwlPipelines)
e1 <- InputParam(id = "flag", type = "boolean",
                 prefix = "-f", doc = "boolean flag")
e2 <- InputParam(id = "string", type = "string", prefix = "-s")
e3 <- InputParam(id = "option", type = "string", prefix = "-o")
e4 <- InputParam(id = "int", type = "int", prefix = "-i", default = 123)
e5 <- InputParam(id = "file", type = "File",
                 prefix = "--file=", separate = FALSE)
e6 <- InputParam(id = "array", type = "string[]", prefix = "-A",
                 doc = "separated by comma")
echo <- cwlParam(baseCommand = "echo", id = "mulEcho",
                 label = "Test parameter types",
                 inputs = InputParamList(e1, e2, e3, e4, e5, e6),
                 stdout = "output.txt")
echo
```

Some input parameters can be predefined in a list, which will be converted to select options in the webapp.
```{r}
inputList <- list(option = c("option1", "option2"))
```


## cwlParam to Shiny App
```{r, eval=FALSE}
app <- cwlShiny(echo, inputList, upload = TRUE)
runApp(app)
```

![shinyApp](/Users/bios/workspace/RApp/RcwlPipelines/vignettes/webapp.png)
